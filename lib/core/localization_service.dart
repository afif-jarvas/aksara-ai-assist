import 'package:flutter/material.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';

// --- Providers ---
final localeProvider = StateProvider<Locale>((ref) => const Locale('id'));
final fontSizeProvider = StateProvider<double>((ref) => 1.0);
final fontFamilyProvider = StateProvider<String>((ref) => 'Plus Jakarta Sans');
final themeProvider = StateNotifierProvider<ThemeNotifier, ThemeMode>((ref) => ThemeNotifier());

class ThemeNotifier extends StateNotifier<ThemeMode> {
  ThemeNotifier() : super(ThemeMode.system);

  void toggleTheme() {
    state = state == ThemeMode.dark ? ThemeMode.light : ThemeMode.dark;
  }
}

String tr(WidgetRef ref, String key) {
  final locale = ref.watch(localeProvider).languageCode;
  return _localizedValues[locale]?[key] ?? _localizedValues['en']?[key] ?? key;
}

// --- KAMUS BAHASA LENGKAP (ID, EN, ZH, JA, KO) ---
const Map<String, Map<String, String>> _localizedValues = {
  // ================= BAHASA INDONESIA (ID) =================
  'id': {
    // General UI
    'app_name': 'Aksara AI',
    'hello': 'Halo,',
    'explore': 'Jelajahi Fitur',
    'home': 'Beranda',
    'history': 'Riwayat',
    'profile': 'Profil',
    'settings': 'Pengaturan',
    'about_app': 'Tentang Aplikasi',
    'privacy': 'Kebijakan Privasi',
    'language': 'Bahasa',
    'feedback': 'Beri Masukan',
    'logout': 'Keluar',
    'delete_account': 'Hapus Akun',
    'cancel': 'Batal',
    'save': 'Simpan',
    
    // About Page - Background
    'tab_bg': 'Latar Belakang',
    'tab_feat': 'Fitur Utama',
    'tab_dev': 'Pengembang',
    'about_bg_text': 'Aksara AI lahir dari sebuah ide sederhana: bagaimana jika setiap orang memiliki asisten pribadi yang selalu siap membantu kapan saja?\n\nDi tengah derasnya arus informasi, kami percaya bahwa teknologi Artificial Intelligence harusnya memudahkan, bukan membingungkan. Aksara AI dibangun untuk menjadi teman cerdasmu dalam belajar, berkarya, dan menemukan jawaban.\n\nMenggabungkan kecanggihan Large Language Model dengan antarmuka yang ramah, Aksara AI hadir untuk meningkatkan produktivitas dan kreativitasmu sehari-hari.',
    
    // About Page - Features
    'feat_title_assist': 'Aksara Assistant',
    'feat_desc_assist': 'Chatbot cerdas yang siap menjawab pertanyaanmu, membantumu menulis, atau sekadar teman mengobrol. Dilengkapi mode "Pakar" untuk analisis mendalam.',
    'feat_title_face': 'Pengenalan Wajah',
    'feat_desc_face': 'Teknologi biometrik canggih untuk mengidentifikasi dan memverifikasi wajah secara real-time demi keamanan.',
    'feat_title_ocr': 'Pemindaian Teks (OCR)',
    'feat_desc_ocr': 'Ubah gambar dokumen fisik menjadi teks digital yang bisa diedit hanya dalam hitungan detik.',
    'feat_title_obj': 'Deteksi Objek',
    'feat_desc_obj': 'Arahkan kameramu ke benda di sekitarmu, dan AI akan memberitahumu benda apa itu.',
    'feat_title_music': 'Aksara Music',
    'feat_desc_music': 'Jelaskan musik yang ingin kamu dengar, dan AI akan membuatkannya untukmu.',

    // About Page - Developers (NEW)
    'role_ai': 'AI Engineer',
    'role_mobile': 'Mobile Developer',
    'role_ui': 'UI/UX Designer',

    // Privacy Policy
    'pp_last_updated': 'Terakhir diperbarui: 12 Desember 2025',
    'pp_1_title': '1. Pendahuluan',
    'pp_1_content': 'Kami di Aksara AI sangat menghargai privasi Anda. Kebijakan ini menjelaskan bagaimana kami mengumpulkan, menggunakan, dan melindungi data pribadi Anda saat menggunakan layanan kami.',
    'pp_2_title': '2. Data yang Kami Kumpulkan',
    'pp_2_content': 'Kami mengumpulkan informasi yang Anda berikan secara langsung, seperti data akun (Nama, Email), data biometrik wajah (jika fitur diaktifkan), dan riwayat percakapan dengan AI untuk meningkatkan kualitas respon.',
    'pp_3_title': '3. Penggunaan Informasi',
    'pp_3_content': 'Data Anda digunakan untuk:\n• Menyediakan dan memelihara layanan aplikasi.\n• Personalisasi pengalaman pengguna.\n• Meningkatkan keamanan dan deteksi penipuan.\n• Mengembangkan fitur AI baru.',
    'pp_4_title': '4. Keamanan Data',
    'pp_4_content': 'Kami menerapkan standar keamanan industri (enkripsi SSL/TLS) untuk melindungi data Anda. Data wajah disimpan dalam format terenkripsi dan tidak dibagikan ke pihak ketiga tanpa izin.',
    'pp_5_title': '5. Hak Pengguna',
    'pp_5_content': 'Anda berhak untuk mengakses, memperbaiki, atau menghapus data pribadi Anda kapan saja melalui menu Pengaturan di dalam aplikasi.',

    // Settings & Chat
    'appearance': 'TAMPILAN',
    'dark_mode': 'Mode Gelap',
    'font_style': 'Gaya Huruf',
    'font_size': 'Ukuran Huruf',
    'system_data': 'SISTEM & DATA',
    'clear_cache': 'Bersihkan Cache',
    'cache_desc': 'Hapus data sementara aplikasi',
    'cache_cleared': 'Cache berhasil dibersihkan!',
    'app_version': 'Versi Aplikasi',
    'select_language': 'Pilih Bahasa',
    'assist_title': 'Aksara Assistant',
    'assist_intro': 'Ada yang bisa saya bantu?',
    'assist_hint': 'Ketik pesan...',
    'mode_expert': 'Pakar',
    'mode_fast': 'Cepat',
    'mode_switched': 'Mode beralih ke:',
    'user_name_placeholder': 'Ananda Afif',
    'user_role_placeholder': 'Member Premium',
  },

  // ================= ENGLISH (EN) =================
  'en': {
    'app_name': 'Aksara AI',
    'hello': 'Hello,',
    'explore': 'Explore Features',
    'home': 'Home',
    'history': 'History',
    'profile': 'Profile',
    'settings': 'Settings',
    'about_app': 'About App',
    'privacy': 'Privacy Policy',
    'language': 'Language',
    'feedback': 'Feedback',
    'logout': 'Logout',
    'delete_account': 'Delete Account',
    'cancel': 'Cancel',
    'save': 'Save',

    'tab_bg': 'Background',
    'tab_feat': 'Main Features',
    'tab_dev': 'Developers',
    'about_bg_text': 'Aksara AI was born from a simple idea: what if everyone had a personal assistant ready to help anytime?\n\nIn the midst of information overload, we believe AI should simplify, not confuse. Aksara AI is built to be your smart companion in learning, creating, and finding answers.\n\nCombining LLM power with a friendly interface, Aksara AI is here to boost your daily productivity and creativity.',
    
    'feat_title_assist': 'Aksara Assistant',
    'feat_desc_assist': 'Smart chatbot ready to answer questions, help you write, or just chat. Features "Expert" mode for deep analysis.',
    'feat_title_face': 'Face Recognition',
    'feat_desc_face': 'Advanced biometric technology to identify and verify faces in real-time for security.',
    'feat_title_ocr': 'Text Scanning (OCR)',
    'feat_desc_ocr': 'Convert physical document images into editable digital text in seconds.',
    'feat_title_obj': 'Object Detection',
    'feat_desc_obj': 'Point your camera at objects around you, and AI will identify them.',
    'feat_title_music': 'Aksara Music',
    'feat_desc_music': 'Describe the music you want to hear, and AI will generate it for you.',

    // Developers
    'role_ai': 'AI Engineer',
    'role_mobile': 'Mobile Developer',
    'role_ui': 'UI/UX Designer',

    'pp_last_updated': 'Last updated: December 12, 2025',
    'pp_1_title': '1. Introduction',
    'pp_1_content': 'We at Aksara AI value your privacy. This policy explains how we collect, use, and protect your personal data when using our services.',
    'pp_2_title': '2. Data Collection',
    'pp_2_content': 'We collect information provided directly by you, such as account data (Name, Email), facial biometric data (if enabled), and AI conversation history.',
    'pp_3_title': '3. Information Usage',
    'pp_3_content': 'Your data is used to:\n• Provide and maintain services.\n• Personalize user experience.\n• Enhance security and fraud detection.\n• Develop new AI features.',
    'pp_4_title': '4. Data Security',
    'pp_4_content': 'We implement industry-standard security (SSL/TLS encryption) to protect your data. Facial data is stored encrypted and not shared with third parties.',
    'pp_5_title': '5. User Rights',
    'pp_5_content': 'You have the right to access, correct, or delete your personal data at any time via the Settings menu.',

    'appearance': 'APPEARANCE',
    'dark_mode': 'Dark Mode',
    'font_style': 'Font Style',
    'font_size': 'Font Size',
    'system_data': 'SYSTEM & DATA',
    'clear_cache': 'Clear Cache',
    'cache_desc': 'Delete temp data',
    'cache_cleared': 'Cache cleared!',
    'app_version': 'App Version',
    'select_language': 'Select Language',
    'assist_title': 'Aksara Assistant',
    'assist_intro': 'How can I help?',
    'assist_hint': 'Type a message...',
    'mode_expert': 'Expert',
    'mode_fast': 'Fast',
    'mode_switched': 'Mode switched to:',
    'user_name_placeholder': 'Ananda Afif',
    'user_role_placeholder': 'Premium User',
  },

  // ================= CHINESE (ZH) =================
  'zh': {
    'app_name': 'Aksara AI',
    'hello': '你好,',
    'explore': '探索功能',
    'home': '首页',
    'history': '历史记录',
    'profile': '个人资料',
    'settings': '设置',
    'about_app': '关于应用',
    'privacy': '隐私政策',
    'language': '语言',
    'feedback': '反馈',
    'logout': '登出',
    'delete_account': '删除账户',
    'cancel': '取消',
    'save': '保存',

    'tab_bg': '背景',
    'tab_feat': '主要功能',
    'tab_dev': '开发者',
    'about_bg_text': 'Aksara AI 诞生于一个简单的想法：如果每个人都有一个随时准备提供帮助的私人助手会怎样？\n\n在信息过载的时代，我们相信人工智能应该简化生活，而不是令人困惑。Aksara AI 旨在成为您学习、创作和寻找答案的智能伙伴。\n\n结合大语言模型的强大功能与友好的界面，Aksara AI 致力于提升您的日常工作效率和创造力。',
    
    'feat_title_assist': 'Aksara 助手',
    'feat_desc_assist': '智能聊天机器人，随时准备回答您的问题、协助写作或聊天。具备用于深度分析的“专家”模式。',
    'feat_title_face': '人脸识别',
    'feat_desc_face': '先进的生物识别技术，可实时识别和验证人脸以确保安全。',
    'feat_title_ocr': '文本扫描 (OCR)',
    'feat_desc_ocr': '在几秒钟内将物理文档图像转换为可编辑的数字文本。',
    'feat_title_obj': '物体检测',
    'feat_desc_obj': '将相机对准周围的物体，AI 将识别它们。',
    'feat_title_music': 'Aksara 音乐',
    'feat_desc_music': '描述您想听的音乐，AI 将为您生成。',

    // Developers
    'role_ai': 'AI 工程师',
    'role_mobile': '移动开发',
    'role_ui': 'UI/UX 设计师',

    'pp_last_updated': '最后更新：2025年12月12日',
    'pp_1_title': '1. 简介',
    'pp_1_content': 'Aksara AI 非常重视您的隐私。本政策说明我们如何收集、使用和保护您在使用我们服务时的个人数据。',
    'pp_2_title': '2. 数据收集',
    'pp_2_content': '我们收集您直接提供的信息，例如账户数据（姓名、电子邮件）、面部生物识别数据（如启用）以及用于提高响应质量的 AI 对话记录。',
    'pp_3_title': '3. 信息使用',
    'pp_3_content': '您的数据用于：\n• 提供和维护应用程序服务。\n• 个性化用户体验。\n• 增强安全性和欺诈检测。\n• 开发新的 AI 功能。',
    'pp_4_title': '4. 数据安全',
    'pp_4_content': '我们实施行业标准安全措施（SSL/TLS 加密）来保护您的数据。面部数据以加密格式存储，未经许可不会与第三方共享。',
    'pp_5_title': '5. 用户权利',
    'pp_5_content': '您有权随时通过应用程序中的“设置”菜单访问、更正或删除您的个人数据。',

    'appearance': '外观',
    'dark_mode': '深色模式',
    'font_style': '字体样式',
    'font_size': '字体大小',
    'system_data': '系统与数据',
    'clear_cache': '清除缓存',
    'cache_desc': '删除临时数据',
    'cache_cleared': '缓存已清除！',
    'app_version': '应用版本',
    'select_language': '选择语言',
    'assist_title': 'Aksara 助手',
    'assist_intro': '有什么可以帮您？',
    'assist_hint': '输入消息...',
    'mode_expert': '专家',
    'mode_fast': '快速',
    'mode_switched': '模式已切换至：',
    'user_name_placeholder': 'Ananda Afif',
    'user_role_placeholder': '高级会员',
  },

  // ================= JAPANESE (JA) =================
  'ja': {
    'app_name': 'Aksara AI',
    'hello': 'こんにちは、',
    'explore': '機能を探索',
    'home': 'ホーム',
    'history': '履歴',
    'profile': 'プロフィール',
    'settings': '設定',
    'about_app': 'アプリについて',
    'privacy': 'プライバシーポリシー',
    'language': '言語',
    'feedback': 'フィードバック',
    'logout': 'ログアウト',
    'delete_account': 'アカウント削除',
    'cancel': 'キャンセル',
    'save': '保存',

    'tab_bg': '背景',
    'tab_feat': '主な機能',
    'tab_dev': '開発者',
    'about_bg_text': 'Aksara AIは、「もし誰もがいつでも助けてくれるパーソナルアシスタントを持っていたらどうなるか？」というシンプルなアイデアから生まれました。\n\n情報過多の時代において、AIは混乱させるものではなく、簡素化するものであるべきだと私たちは信じています。Aksara AIは、学習、創作、そして答えを見つけるための賢いパートナーとなるように構築されています。\n\n大規模言語モデルの能力とフレンドリーなインターフェースを組み合わせ、Aksara AIはあなたの日常の生産性と創造性を向上させるためにここにいます。',
    
    'feat_title_assist': 'Aksara アシスタント',
    'feat_desc_assist': '質問に答えたり、執筆を手伝ったり、チャットしたりできるスマートなチャットボット。詳細な分析のための「エキスパート」モードを搭載。',
    'feat_title_face': '顔認識',
    'feat_desc_face': 'セキュリティのためにリアルタイムで顔を識別および検証する高度な生体認証技術。',
    'feat_title_ocr': 'テキストスキャン (OCR)',
    'feat_desc_ocr': '物理的なドキュメント画像を数秒で編集可能なデジタルテキストに変換します。',
    'feat_title_obj': '物体検出',
    'feat_desc_obj': 'カメラを周囲の物体に向けると、AIがそれらを識別します。',
    'feat_title_music': 'Aksara Music',
    'feat_desc_music': '聴きたい音楽を説明すると、AIがあなたのために生成します。',

    // Developers
    'role_ai': 'AIエンジニア',
    'role_mobile': 'モバイル開発者',
    'role_ui': 'UI/UXデザイナー',

    'pp_last_updated': '最終更新日：2025年12月12日',
    'pp_1_title': '1. はじめに',
    'pp_1_content': 'Aksara AIでは、お客様のプライバシーを非常に重視しています。本ポリシーは、当社のサービスを使用する際のお客様の個人データの収集、使用、および保護方法について説明します。',
    'pp_2_title': '2. 収集するデータ',
    'pp_2_content': 'アカウントデータ（名前、メールアドレス）、顔の生体認証データ（機能が有効な場合）、および応答品質向上のためのAIとの会話履歴など、お客様が直接提供する情報を収集します。',
    'pp_3_title': '3. 情報の利用',
    'pp_3_content': 'お客様のデータは以下の目的で使用されます：\n• アプリサービスの提供と維持。\n• ユーザーエクスペリエンスのパーソナライズ。\n• セキュリティと詐欺検出の強化。\n• 新しいAI機能の開発。',
    'pp_4_title': '4. データセキュリティ',
    'pp_4_content': 'お客様のデータを保護するために、業界標準のセキュリティ（SSL/TLS暗号化）を実装しています。顔データは暗号化された形式で保存され、許可なく第三者と共有されることはありません。',
    'pp_5_title': '5. ユーザーの権利',
    'pp_5_content': 'お客様は、アプリ内の設定メニューを通じていつでも個人データにアクセス、修正、または削除する権利を有します。',

    'appearance': '外観',
    'dark_mode': 'ダークモード',
    'font_style': 'フォントスタイル',
    'font_size': 'フォントサイズ',
    'system_data': 'システムとデータ',
    'clear_cache': 'キャッシュをクリア',
    'cache_desc': '一時データを削除',
    'cache_cleared': 'キャッシュをクリアしました！',
    'app_version': 'アプリのバージョン',
    'select_language': '言語を選択',
    'assist_title': 'Aksara アシスタント',
    'assist_intro': '何かお手伝いしましょうか？',
    'assist_hint': 'メッセージを入力...',
    'mode_expert': 'エキスパート',
    'mode_fast': '高速',
    'mode_switched': 'モード切り替え：',
    'user_name_placeholder': 'Ananda Afif',
    'user_role_placeholder': 'プレミアムメンバー',
  },

  // ================= KOREAN (KO) =================
  'ko': {
    'app_name': 'Aksara AI',
    'hello': '안녕하세요,',
    'explore': '기능 탐색',
    'home': '홈',
    'history': '기록',
    'profile': '프로필',
    'settings': '설정',
    'about_app': '앱 정보',
    'privacy': '개인정보 처리방침',
    'language': '언어',
    'feedback': '피드백',
    'logout': '로그아웃',
    'delete_account': '계정 삭제',
    'cancel': '취소',
    'save': '저장',

    'tab_bg': '배경',
    'tab_feat': '주요 기능',
    'tab_dev': '개발자',
    'about_bg_text': 'Aksara AI는 "모든 사람이 언제든지 도와줄 수 있는 개인 비서를 가지고 있다면 어떨까?"라는 간단한 아이디어에서 탄생했습니다.\n\n정보 과부하 속에서 우리는 인공 지능이 혼란을 주는 것이 아니라 편리함을 제공해야 한다고 믿습니다. Aksara AI는 학습, 창작 및 답변 검색에 있어 스마트한 친구가 되도록 구축되었습니다.\n\n대규모 언어 모델의 강력함과 친근한 인터페이스를 결합한 Aksara AI는 여러분의 일상적인 생산성과 창의성을 높여드립니다.',
    
    'feat_title_assist': 'Aksara 어시스턴트',
    'feat_desc_assist': '질문에 답하거나, 글쓰기를 돕거나, 채팅할 준비가 된 스마트 챗봇입니다. 심층 분석을 위한 "전문가" 모드가 있습니다.',
    'feat_title_face': '얼굴 인식',
    'feat_desc_face': '보안을 위해 실시간으로 얼굴을 식별하고 확인하는 고급 생체 인식 기술입니다.',
    'feat_title_ocr': '텍스트 스캔 (OCR)',
    'feat_desc_ocr': '실물 문서 이미지를 몇 초 만에 편집 가능한 디지털 텍스트로 변환합니다.',
    'feat_title_obj': '객체 감지',
    'feat_desc_obj': '카메라를 주변 사물에 대면 AI가 식별합니다.',
    'feat_title_music': 'Aksara 뮤직',
    'feat_desc_music': '듣고 싶은 음악을 설명하면 AI가 생성해 줍니다.',

    // Developers
    'role_ai': 'AI 엔지니어',
    'role_mobile': '모바일 개발자',
    'role_ui': 'UI/UX 디자이너',

    'pp_last_updated': '마지막 업데이트: 2025년 12월 12일',
    'pp_1_title': '1. 소개',
    'pp_1_content': 'Aksara AI는 귀하의 개인정보를 매우 중요하게 생각합니다. 이 정책은 서비스를 사용할 때 개인 데이터를 수집, 사용 및 보호하는 방법을 설명합니다.',
    'pp_2_title': '2. 데이터 수집',
    'pp_2_content': '계정 데이터(이름, 이메일), 얼굴 생체 인식 데이터(기능이 활성화된 경우) 및 응답 품질 향상을 위한 AI 대화 기록과 같이 귀하가 직접 제공한 정보를 수집합니다.',
    'pp_3_title': '3. 정보 사용',
    'pp_3_content': '귀하의 데이터는 다음 용도로 사용됩니다:\n• 애플리케이션 서비스 제공 및 유지 관리.\n• 사용자 경험 개인화.\n• 보안 및 사기 탐지 강화.\n• 새로운 AI 기능 개발.',
    'pp_4_title': '4. 데이터 보안',
    'pp_4_content': '우리는 귀하의 데이터를 보호하기 위해 업계 표준 보안(SSL/TLS 암호화)을 구현합니다. 얼굴 데이터는 암호화된 형식으로 저장되며 허가 없이 제3자와 공유되지 않습니다.',
    'pp_5_title': '5. 사용자 권리',
    'pp_5_content': '귀하는 앱 내 설정 메뉴를 통해 언제든지 개인 데이터에 액세스, 수정 또는 삭제할 권리가 있습니다.',

    'appearance': '화면',
    'dark_mode': '다크 모드',
    'font_style': '글꼴 스타일',
    'font_size': '글꼴 크기',
    'system_data': '시스템 및 데이터',
    'clear_cache': '캐시 지우기',
    'cache_desc': '임시 데이터 삭제',
    'cache_cleared': '캐시가 삭제되었습니다!',
    'app_version': '앱 버전',
    'select_language': '언어 선택',
    'assist_title': 'Aksara 어시스턴트',
    'assist_intro': '무엇을 도와드릴까요?',
    'assist_hint': '메시지 입력...',
    'mode_expert': '전문가',
    'mode_fast': '빠른',
    'mode_switched': '모드 전환됨:',
    'user_name_placeholder': 'Ananda Afif',
    'user_role_placeholder': '프리미엄 멤버',
  },
};